{% extends 'base.html.twig' %}

{% set successMessages = app.flashes('success') %}

{% block body %}

<div class="home flex flex-column align-center flex-center" style="background-image: url('/img/homepage.jpg');">
  <div class="titleSection pl30">
    <span class="title text_shadow_light" style="margin-right: 10px;">CHEF PRIVÉ À DOMICILE</span>
    <div style="flex: 1; height: 2px; background-color: rgba(255, 255, 255, 0.3)"></div>
  </div>
  <div class="accroche text_shadow_light">
     Une Expérience<br>
    De Chef<br>
    Servie Chez<br>
    Vous!
  </div>
</div>

<div id="aboutme" class="home-container-inner flex height_full">
    <h2 class="mt20 mb10 title_section"> À propos </h2>
    <div class="entry-text pb20" style="width:70%">
      <p>
        {{ tabArticle.bloc_presentation.text }}
      </p>
      <div class="about-img mt30 flex flex-between align-start">
      
      <div><img src="/img/about1.jpg" alt="about image 1"/></div>
      <div><img src="/img/about2.jpg" alt="about image 2" /></div>
      </div>
    </div>
</div>

<div id="prestations" class="height_full p50">
  <div class="accroche_prestation text_shadow_dark">
    Vos Événements
    <br>
    Sur&nbsp;Mesure
  </div>
  <div class="videosection" style="fullwidth">
    <video autoplay muted loop playsinline class="fullwidth">
      <source src="/video/cooking.mp4" type="video/mp4">
    </video>
  </div>


  <div
    class="titlesection">
    {# <div style="flex: 1; height: 2px; background-color: rgba(255, 255, 255, 0.3)"></div> #}
    <span class="title text_shadow_dark" style="line-height: 1.2;">De l’intimité d’un dîner privé à la grandeur d’une réception, chaque détail est pensé pour refléter vos envies.
      <br>
      Je crée des expériences culinaires uniques, taillées à votre image.</span>
  </div>
</div>

{# <div id="prestations_card" class="home-container-inner flex">
    <h2 class="mt20 mb10 title_section"> Mes préstations </h2>
    <div class="entry-text pb20" style="width:70%">
      <div id="prestations_card" class="menu-container" style="width:100%;"> {# Removed mt20 as padding-top on parent handles this #}
      {% for key, one_article in tabArticle %}
      
      {% if key != "bloc_presentation" %}
      <div class="menu-item-wrapper">
        <a href="#" class="menu-item" onclick="toggleCollapsible(event, 'content{{ one_article.id - 1 }}')">
          <div class="menu-item-image-wrapper">
            <img src="/img/plat{{ one_article.id - 1 }}.jpg?v=2" alt="image de présentation" class="menu-item-image">
          </div>
          <div class="menu-item-content flex flex-column flex-center">
            <div class="menu-item-tags">{{ one_article.subtitle }}</div>
            <h2 class="menu-item-title">{{ one_article.title }}</h2>
          </div>
          <div class="menu-item-arrow">&#10140;</div>
        </a>
        <div id="content{{ one_article.id - 1 }}" class="collapsible-content">
          <p>{{ one_article.text }}</p>
          <p>Mes menus sont entièrement personnalisables. Je les adapte à vos envies et aux spécificités de votre événement.<br>
            Les suggestions ci-dessous sont des exemples de ce que je peux créer pour vous, conçues avec des produits frais et de saison.<br>Elles vous donneront un aperçu de mon savoir-faire et de la diversité de mes inspirations.</p>
            {% for menu in one_article.menus %}
              <div class="menu-sections-collapsible">
                <div class="menu-column-collapsible">
                  <h4>{{ menu.title }}</h4>
                  <ul>
                    {# {% for plat in menu.plats %} #}
                      <li>test</li>
                    {# {% endfor %} #}
                  </ul>
                </div>
              </div>
            {% endfor %}
        </div>
      </div>
      {% endif %}
      {% endfor %}
    </div>
    </div>
{# </div> #}

<script>
   
    function toggleCollapsible(event, contentId) {
        event.preventDefault(); 
        const content = document.getElementById(contentId);
        const menuItem = event.currentTarget; 

        if (content.classList.contains('show')) {
            content.classList.remove('show');
            menuItem.classList.remove('active');
        } else {
            
            document.querySelectorAll('.collapsible-content.show').forEach(openContent => {
                openContent.classList.remove('show');
            });
            document.querySelectorAll('.menu-item.active').forEach(activeItem => {
                activeItem.classList.remove('active');
            });

            content.classList.add('show');
            menuItem.classList.add('active');
        }
    }
</script>

{% endblock %}
